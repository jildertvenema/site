(this["webpackJsonpmaster-app"]=this["webpackJsonpmaster-app"]||[]).push([[0],{119:function(e,t,n){e.exports=n(268)},124:function(e,t,n){},264:function(e,t){},268:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(12),c=n.n(r),i=(n(124),n(21)),l=n(16),u=n(17),s=n(66),f=n(106),d=n.n(f),m=n(75),p=n(110),v=n(111),h=n(116),g=n(112),b=n(118),k=n(50),y=n.n(k);function E(){var e=Object(l.a)(["\n  width: 50vw;\n  height: 40px;\n  cursor: pointer;\n\n  &:hover {\n    background: lightgray;\n  }\n"]);return E=function(){return e},e}function w(){var e=Object(l.a)(["\n  width: 33%;\n  float: left;\n"]);return w=function(){return e},e}var O=u.a.div(w()),j=u.a.div(E()),S=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(o)))).state={files:[],dir:"./"},n.setOutputMac=function(e){var t=e.split("\n").slice(1).filter((function(e){return e.length>7})).map((function(e){var t=e.split(" ").filter((function(e){return e}));return{key:t[8],modified:t[5]+" "+t[6]+" "+t[7],size:1024*~~t[4],isFolder:t[0].includes("drw")}}));console.log(t),n.setState({files:t})},n.getFiles=function(e){var t=n.props.clientId;"darwin"===n.props.platform?n.props.socket.emit("commandSlave",{clientId:t,command:"cd ".concat(e||n.state.dir," && ls -a -l")},n.setOutputMac):"win32"===n.props.platform&&console.log("IMPLEMENT WINDOWS")},n.handleCreateFolder=function(e){n.setState((function(t){return t.files=t.files.concat([{key:e}]),t}))},n.handleCreateFiles=function(e,t){n.setState((function(n){var a=e.map((function(e){var n=t;return""!==t&&"/"!==t.substring(t.length-1,t.length)&&(n+="/"),{key:n+=e.name,size:e.size,modified:+y()()}})),o=[];return a.map((function(e){var t=!1;n.files.map((function(n){n.key===e.key&&(t=!0)})),t||o.push(e)})),n.files=n.files.concat(o),n}))},n.handleRenameFolder=function(e,t){n.setState((function(n){var a=[];return n.files.map((function(n){n.key.substr(0,e.length)===e?a.push(Object(m.a)({},n,{key:n.key.replace(e,t),modified:+y()()})):a.push(n)})),n.files=a,n}))},n.handleRenameFile=function(e,t){n.setState((function(n){var a=[];return n.files.map((function(n){n.key===e?a.push(Object(m.a)({},n,{key:t,modified:+y()()})):a.push(n)})),n.files=a,n}))},n.handleDeleteFolder=function(e){n.setState((function(t){var n=[];return t.files.map((function(t){t.key.substr(0,e.length)!==e&&n.push(t)})),t.files=n,t}))},n.handleDeleteFile=function(e){n.setState((function(t){var n=[];return t.files.map((function(t){t.key!==e&&n.push(t)})),t.files=n,t}))},n.navigateBack=function(){var e=n.state.dir+"../";n.setState({dir:e}),n.getFiles(e)},n.navigateForward=function(e){var t=n.state.dir+e+"/";n.setState({dir:t}),n.getFiles(t)},n.downloadFromServer=function(e){var t=n.props.clientId;n.props.socket.emit("commandSlave",{clientId:t,command:"cat ".concat(n.state.dir).concat(e)},(function(t){return n.download(e,t)}))},n.download=function(e,t){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)},n}return Object(b.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.getFiles(this.state.dir)}},{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{className:"mb-4",onClick:this.navigateBack},"Folder back"),o.a.createElement("div",null,this.state.files&&this.state.files.map((function(t){var n=t.key,a=t.modified,r=t.size,c=t.isFolder;return o.a.createElement("div",null,o.a.createElement(j,{key:n,onClick:function(){return c?e.navigateForward(n):e.downloadFromServer(n)}},o.a.createElement(O,null,n),o.a.createElement(O,null,a),o.a.createElement(O,null,r)))}))))}}]),t}(o.a.Component);function F(){var e=Object(l.a)(["\n  position: fixed;\n  top: 5vh;\n  bottom: 5vh;\n  left: 5vw;\n  right: 5vw;\n"]);return F=function(){return e},e}function I(){var e=Object(l.a)(["\n  display: flex;\n  align-items: flex-start;\n  margin-bottom: 16px;\n"]);return I=function(){return e},e}var C=u.a.div(I()),x=u.a.div(F()),N=function(e){var t=e.socket,n=Object(a.useState)(null),r=Object(i.a)(n,2),c=r[0],l=r[1],u=Object(a.useState)(""),f=Object(i.a)(u,2),m=f[0],p=f[1],v=Object(a.useState)(!1),h=Object(i.a)(v,2),g=h[0],b=h[1];Object(a.useEffect)((function(){return t.on("newSlaves",(function(e){l(e),console.log(e)})),function(){return t.removeListener("newSlaves")}}),[]),Object(a.useEffect)((function(){t.emit("getSlaves",{},(function(e){l(e),console.log(e)}))}),[]);return o.a.createElement("div",null,g&&o.a.createElement(x,null,o.a.createElement(d.a,{color:"green",backgroundColor:"black",barColor:"black",style:{fontWeight:"bold",fontSize:"1em"},commandPassThrough:function(e,n){var a=e[0];if(a){var o=m.clientId;t.emit("commandSlave",{clientId:o,command:a},(function(e){n(e)}))}},msg:"Connected with ".concat(c.find((function(e){return e.clientId===m.clientId})).computerName),actionHandlers:{handleClose:function(e){b(!1)}}})),o.a.createElement(C,null,c&&c.map((function(e){return o.a.createElement(s.a,{key:e.clientId,className:"m-2",onClick:function(){return p(e)}},e.computerName)}))),m&&o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,"Connected with ".concat(c.find((function(e){return e.clientId===m.clientId})).computerName)),o.a.createElement(C,null,o.a.createElement(s.a,{theme:"light",onClick:function(){return b(!0)}},"Open terminal")),o.a.createElement(S,{socket:t,platform:m.platform,clientId:m.clientId})))};n(233),n(234);function z(){var e=Object(l.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-height: 90vh;\n"]);return z=function(){return e},e}var M=n(235)("https://cool-app1.herokuapp.com");M.on("connect",(function(){console.log("connected with server")}));var W=u.a.div(z());var B=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),l=Object(i.a)(c,2),u=l[0],s=l[1],f=function(e){console.log("connecting with server.."),M.emit("join",{master:!0,key:e},(function(){localStorage.setItem("app-code",e),r(!0)}))},d=localStorage.getItem("app-code");return d&&f(d),o.a.createElement(W,null,n?o.a.createElement(N,{socket:M}):o.a.createElement("div",null,o.a.createElement("p",null,"Enter code.."),o.a.createElement("input",{type:"text",value:u,onChange:function(e){return s(e.target.value)}}),o.a.createElement("button",{onClick:function(e){return f(u)}},"Join")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[119,1,2]]]);
//# sourceMappingURL=main.4e188ad3.chunk.js.map